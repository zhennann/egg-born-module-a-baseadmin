window["a-baseadmin"]=function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=16)}([function(t,e,n){"use strict";function o(t,e,n,o,r,i,a,s){var l,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),o&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=l):r&&(l=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(u.functional){u._injectStyles=l;var d=u.render;u.render=function(t,e){return l.call(e),d(t,e)}}else{var c=u.beforeCreate;u.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:u}}n.d(e,"a",function(){return o})},function(t,e){t.exports=window.Vue},function(t,e,n){"use strict";var o={meta:{global:!1},props:{roleIdStart:{type:Number}},data:function(){var t=this;return{treeOptions:{fetchData:function(e){return t.fetchChildren(e.id)}}}},computed:{tree:function(){return this.$refs.tree}},methods:{fetchChildren:function(t){var e=this;return"root"===t&&(t=this.roleIdStart),this.$api.post("role/children",{roleId:t,page:{size:0}}).then(function(t){return t.list.map(function(t){return{id:t.id,text:t.roleName||"[New Role]",data:t,showChildren:1===t.catalog,isBatch:1===t.catalog}})}).catch(function(t){e.$view.toast.show({text:t.message})})},onNodeClick:function(t){this.$emit("node:click",t)}}},r=n(0),i=Object(r.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-tree",{ref:"tree",attrs:{options:t.treeOptions},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.node;return n("span",{on:{click:function(e){return e.stopPropagation(),t.onNodeClick(o)}}},[t._v(t._s(o.text))])}}])})},[],!1,null,null,null);e.a=i.exports},function(t,e,n){"use strict";var o={meta:{global:!1},props:{roleId:{type:Number}},data:function(){return{items:[],query:""}},mounted:function(){this.$meta.eventHub.$on("user:disable",this.onUserDisable),this.$meta.eventHub.$on("user:delete",this.onUserDelete),this.$meta.eventHub.$on("user:addRole",this.onUserAddRole),this.$meta.eventHub.$on("user:removeRole",this.onUserRemoveRole)},beforeDestroy:function(){this.$meta.eventHub.$off("user:disable",this.onUserDisable),this.$meta.eventHub.$off("user:delete",this.onUserDelete),this.$meta.eventHub.$off("user:addRole",this.onUserAddRole),this.$meta.eventHub.$off("user:removeRole",this.onUserRemoveRole)},methods:{onSearch:function(t){this.query=t,this.query?this.reload(!0):this.items=[]},reload:function(t){this.$refs.loadMore.reload(t)},loadMore:function(){this.$refs.loadMore.loadMore()},onLoadClear:function(t){this.items=[],t()},onLoadMore:function(t){var e=this,n=t.index,o={roleId:this.roleId,query:this.query,page:{index:n}};return this.roleId||(o.anonymous=0),this.$api.post("user/list",o).then(function(t){return e.items=e.items.concat(t.list),t})},onPerformDisable:function(t,e){return this.disableUser(t,e,1)},onPerformEnable:function(t,e){return this.disableUser(t,e,0)},onPerformDelete:function(t,e){var n=this;return this.$view.dialog.confirm().then(function(){return n.$api.post("user/delete",{userId:e.id}).then(function(){return n.$meta.eventHub.$emit("user:delete",{userId:e.id}),n.$meta.util.swipeoutDelete(t.target),!0})})},disableUser:function(t,e,n){var o=this;return this.$api.post("user/disable",{userId:e.id,disabled:n}).then(function(){return o.$meta.eventHub.$emit("user:disable",{userId:e.id,disabled:n}),o.$meta.util.swipeoutClose(t.target),!0})},onUserDisable:function(t){var e=this.items.find(function(e){return e.id===t.userId});e&&(e.disabled=t.disabled)},onUserDelete:function(t){var e=this.items.findIndex(function(e){return e.id===t.userId});e>-1&&this.items.splice(e,1)},onUserAddRole:function(t){t.roleId===this.roleId&&this.reload()},onUserRemoveRole:function(t){if(t.roleId===this.roleId){var e=this.items.findIndex(function(e){return e.id===t.userId});e>-1&&this.items.splice(e,1)}}}},r=n(0),i=Object(r.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("f7-list",t._l(t.items,function(e){return n("eb-list-item",{key:e.id,staticClass:"item",attrs:{title:e.userName,link:"#","eb-href":"user/view?userId="+e.id,swipeout:""}},[n("div",{attrs:{slot:"after"},slot:"after"},[e.realName&&e.realName!==e.userName?n("f7-badge",[t._v(t._s(e.realName))]):t._e(),t._v(" "),e.mobile?n("f7-badge",[t._v(t._s(e.mobile))]):t._e(),t._v(" "),1===e.disabled?n("f7-badge",[t._v(t._s(t.$text("Disabled")))]):t._e()],1),t._v(" "),n("eb-context-menu",[n("div",{attrs:{slot:"right"},slot:"right"},[0===e.disabled?n("div",{attrs:{color:"orange",context:e,onPerform:t.onPerformDisable}},[t._v(t._s(t.$text("Disable")))]):t._e(),t._v(" "),1===e.disabled?n("div",{attrs:{color:"orange",context:e,onPerform:t.onPerformEnable}},[t._v(t._s(t.$text("Enable")))]):t._e(),t._v(" "),n("div",{attrs:{color:"yellow",context:e,onPerform:t.onPerformDelete}},[t._v(t._s(t.$text("Delete")))])])])],1)}),1),t._v(" "),n("eb-load-more",{ref:"loadMore",attrs:{onLoadClear:t.onLoadClear,onLoadMore:t.onLoadMore,autoInit:!1}})],1)},[],!1,null,"7e876b2a",null);e.a=i.exports},function(t,e,n){"use strict";var o=n(1),r={meta:{global:!1},mixins:[n.n(o).a.prototype.$meta.module.get("a-base").options.components.ebModules],props:{role:{type:Object},user:{type:Object},menu:{type:Number}},data:function(){return{items:[]}},computed:{itemGroups:function(){if(!this.modulesAll)return[];if(!this.items)return[];var t=[],e=null,n=!0,o=!1,r=void 0;try{for(var i,a=this.items[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=s.module;if(!e||e.id!==l)e={id:l,moduleTitle:this.getModule(s.module).titleLocale,items:[]},t.push(e);e.items.push(s)}}catch(t){o=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}return t},apiPath:function(){return 1===this.menu?"menuRight":"functionRight"}},mounted:function(){this.$meta.eventHub.$on("functionRight:add",this.onFunctionRightAdd),this.$meta.eventHub.$on("functionRight:delete",this.onFunctionRightDelete)},beforeDestroy:function(){this.$meta.eventHub.$off("functionRight:add",this.onFunctionRightAdd),this.$meta.eventHub.$off("functionRight:delete",this.onFunctionRightDelete)},methods:{reload:function(t){this.$refs.loadMore.reload(t)},loadMore:function(){this.$refs.loadMore.loadMore()},onLoadClear:function(t){this.items=[],t()},onLoadMore:function(t){var e=this,n=t.index;return this.role?this.$api.post("".concat(this.apiPath,"/spreads"),{roleId:this.role.id,menu:this.menu,page:{index:n}}).then(function(t){return e.items=e.items.concat(t.list),t}):this.$api.post("user/functionRights",{userId:this.user.id,menu:this.menu,page:{index:n}}).then(function(t){return e.items=e.items.concat(t.list),t})},onFunctionRightAdd:function(t){this.reload()},onFunctionRightDelete:function(t){this.reload()}}},i=n(0),a=Object(i.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("f7-list",t._l(t.itemGroups,function(e){return n("f7-list-group",{key:e.id},[n("f7-list-item",{attrs:{title:e.moduleTitle,"group-title":""}}),t._v(" "),t._l(e.items,function(e){return n("eb-list-item",{key:e.roleExpandId+":"+e.roleFunctionId,attrs:{title:e.titleLocale||e.title}},[n("div",{attrs:{slot:"after"},slot:"after"},[n("div",[t._v(t._s(t.$text("from"))+": "+t._s(e.roleName))])])])})],2)}),1),t._v(" "),n("eb-load-more",{ref:"loadMore",attrs:{onLoadClear:t.onLoadClear,onLoadMore:t.onLoadMore,autoInit:!1}})],1)},[],!1,null,"e560f528",null);e.a=a.exports},function(t,e,n){"use strict";var o=n(1),r=n.n(o),i={meta:{global:!1},mixins:[r.a.prototype.$meta.module.get("a-base").options.components.ebModules,r.a.prototype.$meta.module.get("a-base").options.components.ebAtomClasses],props:{role:{type:Object},user:{type:Object}},data:function(){return{items:[]}},computed:{itemGroups:function(){if(!this.modulesAll)return[];if(!this.atomClassesAll)return[];if(!this.items)return[];var t=[],e=null,n=!0,o=!1,r=void 0;try{for(var i,a=this.items[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l="".concat(s.module,".").concat(s.atomClassName);if(!e||e.id!==l){var u=this.getModule(s.module);e={id:l,atomClassTitle:this.getAtomClass(s).titleLocale,moduleTitle:u.titleLocale,items:[]},t.push(e)}e.items.push(s)}}catch(t){o=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}return t}},mounted:function(){this.$meta.eventHub.$on("atomRight:add",this.onAtomRightAdd),this.$meta.eventHub.$on("atomRight:delete",this.onAtomRightDelete)},beforeDestroy:function(){this.$meta.eventHub.$off("atomRight:add",this.onAtomRightAdd),this.$meta.eventHub.$off("atomRight:delete",this.onAtomRightDelete)},methods:{reload:function(t){this.$refs.loadMore.reload(t)},loadMore:function(){this.$refs.loadMore.loadMore()},onLoadClear:function(t){this.items=[],t()},onLoadMore:function(t){var e=this,n=t.index;return this.role?this.$api.post("atomRight/spreads",{roleId:this.role.id,page:{index:n}}).then(function(t){return e.items=e.items.concat(t.list),t}):this.$api.post("user/atomRights",{userId:this.user.id,page:{index:n}}).then(function(t){return e.items=e.items.concat(t.list),t})},onAtomRightAdd:function(t){this.reload()},onAtomRightDelete:function(t){this.reload()}}},a=(n(21),n(0)),s=Object(a.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("f7-list",t._l(t.itemGroups,function(e){return n("f7-list-group",{key:e.id},[n("f7-list-item",{attrs:{title:e.atomClassTitle+" ["+e.moduleTitle+"]","group-title":""}}),t._v(" "),t._l(e.items,function(e){return n("eb-list-item",{key:e.roleExpandId+":"+e.roleRightId,staticClass:"item",attrs:{title:e.actionName}},[n("div",{staticClass:"header",attrs:{slot:"root-start"},slot:"root-start"},[n("div"),t._v(" "),n("div",[t._v(t._s(t.$text("from"))+": "+t._s(e.roleName))])]),t._v(" "),n("div",{attrs:{slot:"after"},slot:"after"},[1!==e.actionCode&&"0"===e.scope?n("f7-badge",[t._v("Self")]):t._e(),t._v(" "),e.scopeRoles?t._l(e.scopeRoles,function(e){return n("f7-badge",{key:e.id},[t._v(t._s(e.roleName))])}):t._e()],2)])})],2)}),1),t._v(" "),n("eb-load-more",{ref:"loadMore",attrs:{onLoadClear:t.onLoadClear,onLoadMore:t.onLoadMore,autoInit:!1}})],1)},[],!1,null,"09f80252",null);e.a=s.exports},function(t,e,n){var o=n(22);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n(15).default)("10c0271c",o,!0,{})},function(t,e,n){"use strict";var o={meta:{global:!1},props:{user:{type:Object}},data:function(){return{items:[]}},mounted:function(){this.$meta.eventHub.$on("role:save",this.onRoleSave),this.$meta.eventHub.$on("role:delete",this.onRoleDelete)},beforeDestroy:function(){this.$meta.eventHub.$off("role:save",this.onRoleSave),this.$meta.eventHub.$off("role:delete",this.onRoleDelete)},methods:{reload:function(t){this.$refs.loadMore.reload(t)},loadMore:function(){this.$refs.loadMore.loadMore()},onLoadClear:function(t){this.items=[],t()},onLoadMore:function(t){var e=this,n=t.index;return this.$api.post("user/roles",{userId:this.user.id,page:{index:n}}).then(function(t){return e.items=e.items.concat(t.list),t})},onPerformAdd:function(){var t=this;this.$view.navigate("/a/baseadmin/role/select",{target:"_self",context:{params:{roleIdStart:null,multiple:!1},callback:function(e,n){200===e&&t.$api.post("user/addRole",{userId:t.user.id,roleId:n.id}).then(function(){t.$meta.eventHub.$emit("user:addRole",{userId:t.user.id,roleId:n.id}),t.reload(),t.$view.toast.show({text:t.$text("Operation succeeded")})})}}})},onRemove:function(t,e){var n=this;return this.$view.dialog.confirm().then(function(){return n.$api.post("user/removeRole",{id:e.id}).then(function(){return n.onRoleDelete({roleId:e.roleId}),n.$meta.eventHub.$emit("user:removeRole",{userId:n.user.id,roleId:e.roleId}),n.$meta.util.swipeoutDelete(t.target),!0})})},onRoleSave:function(t){this.items.findIndex(function(e){return e.roleId===t.roleId})>-1&&this.reload()},onRoleDelete:function(t){var e=this.items.findIndex(function(e){return e.roleId===t.roleId});e>-1&&this.items.splice(e,1)}}},r=n(0),i=Object(r.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("f7-list",t._l(t.items,function(e){return n("eb-list-item",{key:e.id,staticClass:"item",attrs:{title:e.roleName,link:"#","eb-href":"role/edit?roleId="+e.roleId,swipeout:""}},[n("eb-context-menu",[n("div",{attrs:{slot:"right"},slot:"right"},[n("div",{attrs:{color:"orange",context:e,onPerform:t.onRemove}},[t._v(t._s(t.$text("Remove")))])])])],1)}),1),t._v(" "),n("eb-load-more",{ref:"loadMore",attrs:{onLoadClear:t.onLoadClear,onLoadMore:t.onLoadMore,autoInit:!1}})],1)},[],!1,null,"f8fb3a56",null);e.a=i.exports},function(t,e,n){"use strict";var o={meta:{global:!1},props:{user:{type:Object}},data:function(){return{}}},r=n(0),i=Object(r.a)(o,function(){var t=this.$createElement;return(this._self._c||t)("eb-validate",{ref:"validate",attrs:{auto:"",readOnly:"",data:this.user,params:{module:"a-base",validator:"user"}}})},[],!1,null,null,null);e.a=i.exports},function(t,e,n){"use strict";var o=n(1),r=n.n(o),i={meta:{global:!1},mixins:[r.a.prototype.$meta.module.get("a-base").options.components.ebModules,r.a.prototype.$meta.module.get("a-base").options.components.ebAtomClasses],props:{role:{type:Object}},data:function(){return{items:[]}},computed:{itemGroups:function(){if(!this.modulesAll)return[];if(!this.atomClassesAll)return[];if(!this.items)return[];var t=[],e=null,n=!0,o=!1,r=void 0;try{for(var i,a=this.items[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l="".concat(s.module,".").concat(s.atomClassName);if(!e||e.id!==l){var u=this.getModule(s.module);e={id:l,atomClassTitle:this.getAtomClass(s).titleLocale,moduleTitle:u.titleLocale,items:[]},t.push(e)}e.items.push(s)}}catch(t){o=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}return t}},mounted:function(){this.$meta.eventHub.$on("atomRight:add",this.onAtomRightAdd),this.$meta.eventHub.$on("atomRight:delete",this.onAtomRightDelete)},beforeDestroy:function(){this.$meta.eventHub.$off("atomRight:add",this.onAtomRightAdd),this.$meta.eventHub.$off("atomRight:delete",this.onAtomRightDelete)},methods:{reload:function(t){this.$refs.loadMore.reload(t)},loadMore:function(){this.$refs.loadMore.loadMore()},onLoadClear:function(t){this.items=[],t()},onLoadMore:function(t){var e=this,n=t.index;return this.$api.post("atomRight/rights",{roleId:this.role.id,page:{index:n}}).then(function(t){return e.items=e.items.concat(t.list),t})},onPerformAdd:function(){this.$view.navigate("/a/baseadmin/atomRight/add?roleId=".concat(this.role.id))},onPerformDelete:function(t,e){var n=this;return this.$view.dialog.confirm().then(function(){return n.$api.post("atomRight/delete",{id:e.id}).then(function(){return n.$meta.eventHub.$emit("atomRight:delete",{id:e.id,roleId:n.role.id}),n.$meta.util.swipeoutDelete(t.target),!0})})},onAtomRightAdd:function(t){this.reload()},onAtomRightDelete:function(t){var e=this.items.findIndex(function(e){return e.id===t.id});e>-1&&this.items.splice(e,1)}}},a=n(0),s=Object(a.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("f7-list",t._l(t.itemGroups,function(e){return n("f7-list-group",{key:e.id},[n("f7-list-item",{attrs:{title:e.atomClassTitle+" ["+e.moduleTitle+"]","group-title":""}}),t._v(" "),t._l(e.items,function(e){return n("eb-list-item",{key:e.id,attrs:{title:e.actionName,swipeout:""}},[n("div",{attrs:{slot:"after"},slot:"after"},[1!==e.action&&"0"===e.scope?n("f7-badge",[t._v("Self")]):t._e(),t._v(" "),e.scopeRoles?t._l(e.scopeRoles,function(e){return n("f7-badge",{key:e.id},[t._v(t._s(e.roleName))])}):t._e()],2),t._v(" "),n("eb-context-menu",[n("div",{attrs:{slot:"right"},slot:"right"},[n("div",{attrs:{color:"orange",context:e,onPerform:t.onPerformDelete}},[t._v(t._s(t.$text("Delete")))])])])],1)})],2)}),1),t._v(" "),n("eb-load-more",{ref:"loadMore",attrs:{onLoadClear:t.onLoadClear,onLoadMore:t.onLoadMore,autoInit:!1}})],1)},[],!1,null,"93626dca",null);e.a=s.exports},function(t,e,n){"use strict";var o=n(1),r={meta:{global:!1},mixins:[n.n(o).a.prototype.$meta.module.get("a-base").options.components.ebModules],props:{role:{type:Object},menu:{type:Number}},data:function(){return{items:[]}},computed:{itemGroups:function(){if(!this.modulesAll)return[];if(!this.items)return[];var t=[],e=null,n=!0,o=!1,r=void 0;try{for(var i,a=this.items[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=s.module;if(!e||e.id!==l)e={id:l,moduleTitle:this.getModule(s.module).titleLocale,items:[]},t.push(e);e.items.push(s)}}catch(t){o=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}return t},apiPath:function(){return 1===this.menu?"menuRight":"functionRight"}},mounted:function(){this.$meta.eventHub.$on("functionRight:add",this.onFunctionRightAdd),this.$meta.eventHub.$on("functionRight:delete",this.onFunctionRightDelete)},beforeDestroy:function(){this.$meta.eventHub.$off("functionRight:add",this.onFunctionRightAdd),this.$meta.eventHub.$off("functionRight:delete",this.onFunctionRightDelete)},methods:{reload:function(t){this.$refs.loadMore.reload(t)},loadMore:function(){this.$refs.loadMore.loadMore()},onLoadClear:function(t){this.items=[],t()},onLoadMore:function(t){var e=this,n=t.index;return this.$api.post("".concat(this.apiPath,"/rights"),{roleId:this.role.id,page:{index:n}}).then(function(t){return e.items=e.items.concat(t.list),t})},onPerformAdd:function(){this.$view.navigate("/a/baseadmin/functionRight/add?roleId=".concat(this.role.id,"&menu=").concat(this.menu))},onPerformDelete:function(t,e){var n=this;return this.$view.dialog.confirm().then(function(){return n.$api.post("".concat(n.apiPath,"/delete"),{id:e.id}).then(function(){return n.$meta.eventHub.$emit("functionRight:delete",{id:e.id,roleId:n.role.id}),n.$meta.util.swipeoutDelete(t.target),!0})})},onFunctionRightAdd:function(t){this.reload()},onFunctionRightDelete:function(t){var e=this.items.findIndex(function(e){return e.id===t.id});e>-1&&this.items.splice(e,1)}}},i=n(0),a=Object(i.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("f7-list",t._l(t.itemGroups,function(e){return n("f7-list-group",{key:e.id},[n("f7-list-item",{attrs:{title:e.moduleTitle,"group-title":""}}),t._v(" "),t._l(e.items,function(e){return n("eb-list-item",{key:e.id,attrs:{title:e.titleLocale||e.title,swipeout:""}},[n("eb-context-menu",[n("div",{attrs:{slot:"right"},slot:"right"},[n("div",{attrs:{color:"orange",context:e,onPerform:t.onPerformDelete}},[t._v(t._s(t.$text("Delete")))])])])],1)})],2)}),1),t._v(" "),n("eb-load-more",{ref:"loadMore",attrs:{onLoadClear:t.onLoadClear,onLoadMore:t.onLoadMore,autoInit:!1}})],1)},[],!1,null,"29a4e73c",null);e.a=a.exports},function(t,e,n){"use strict";var o={meta:{global:!1},props:{role:{type:Object}},data:function(){return{items:[]}},mounted:function(){this.$meta.eventHub.$on("role:save",this.onRoleSave),this.$meta.eventHub.$on("role:delete",this.onRoleDelete)},beforeDestroy:function(){this.$meta.eventHub.$off("role:save",this.onRoleSave),this.$meta.eventHub.$off("role:delete",this.onRoleDelete)},methods:{reload:function(t){this.$refs.loadMore.reload(t)},loadMore:function(){this.$refs.loadMore.loadMore()},onLoadClear:function(t){this.items=[],t()},onLoadMore:function(t){var e=this,n=t.index;return this.$api.post("role/includes",{roleId:this.role.id,page:{index:n}}).then(function(t){return e.items=e.items.concat(t.list),t})},onPerformAdd:function(){var t=this;this.$view.navigate("/a/baseadmin/role/select",{target:"_self",context:{params:{roleIdStart:null,multiple:!1},callback:function(e,n){200===e&&t.$api.post("role/addRoleInc",{roleId:t.role.id,roleIdInc:n.id}).then(function(e){t.$meta.eventHub.$emit("role:dirty",{dirty:!0}),t.reload(),t.$view.toast.show({text:t.$text("Operation succeeded")})})}}})},onRemove:function(t,e){var n=this;return this.$view.dialog.confirm().then(function(){return n.$api.post("role/removeRoleInc",{id:e.id}).then(function(){return n.onRoleDelete({roleId:e.roleIdInc}),n.$meta.eventHub.$emit("role:dirty",{dirty:!0}),n.$meta.util.swipeoutDelete(t.target),!0})})},onRoleSave:function(t){this.items.findIndex(function(e){return e.roleIdInc===t.roleId})>-1&&this.reload()},onRoleDelete:function(t){var e=this.items.findIndex(function(e){return e.roleIdInc===t.roleId});e>-1&&this.items.splice(e,1)}}},r=n(0),i=Object(r.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("f7-list",t._l(t.items,function(e){return n("eb-list-item",{key:e.id,staticClass:"item",attrs:{title:e.roleName,link:"#","eb-href":"role/edit?roleId="+e.roleIdInc,swipeout:""}},[n("eb-context-menu",[n("div",{attrs:{slot:"right"},slot:"right"},[n("div",{attrs:{color:"orange",context:e,onPerform:t.onRemove}},[t._v(t._s(t.$text("Remove")))])])])],1)}),1),t._v(" "),n("eb-load-more",{ref:"loadMore",attrs:{onLoadClear:t.onLoadClear,onLoadMore:t.onLoadMore,autoInit:!1}})],1)},[],!1,null,"9b1dfc46",null);e.a=i.exports},function(t,e,n){"use strict";var o={meta:{global:!1},props:{role:{type:Object}},data:function(){return{items:[]}},mounted:function(){this.$meta.eventHub.$on("role:save",this.onRoleSave),this.$meta.eventHub.$on("role:add",this.onRoleAdd),this.$meta.eventHub.$on("role:move",this.onRoleMove),this.$meta.eventHub.$on("role:delete",this.onRoleDelete)},beforeDestroy:function(){this.$meta.eventHub.$off("role:save",this.onRoleSave),this.$meta.eventHub.$off("role:add",this.onRoleAdd),this.$meta.eventHub.$off("role:move",this.onRoleMove),this.$meta.eventHub.$off("role:delete",this.onRoleDelete)},methods:{reload:function(t){this.$refs.loadMore.reload(t)},loadMore:function(){this.$refs.loadMore.loadMore()},onLoadClear:function(t){this.items=[],t()},onLoadMore:function(t){var e=this,n=t.index;return this.$api.post("role/children",{roleId:this.role.id,page:{index:n}}).then(function(t){return e.items=e.items.concat(t.list),t})},onPerformAdd:function(){return this.addRole({catalog:0})},onPerformAddCatalog:function(){return this.addRole({catalog:1})},addRole:function(t){var e=this,n=t.catalog;return this.$api.post("role/add",{roleIdParent:this.role.id,catalog:n}).then(function(t){e.$meta.eventHub.$emit("role:add",{roleIdParent:e.role.id,roleId:t}),e.$meta.eventHub.$emit("role:dirty",{dirty:!0}),e.$view.navigate("/a/baseadmin/role/edit?roleId=".concat(t))})},onRoleSave:function(t){t.roleIdParent===this.role.id&&this.reload()},onRoleAdd:function(t){t.roleIdParent===this.role.id&&this.reload()},onRoleMove:function(t){t.roleIdFrom!==this.role.id&&t.roleIdTo!==this.role.id||this.reload()},onRoleDelete:function(t){t.roleIdParent===this.role.id&&this.reload()}}},r=n(0),i=Object(r.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("f7-list",t._l(t.items,function(e){return n("eb-list-item",{key:e.id,staticClass:"item",attrs:{title:e.roleName,link:"#","eb-href":"role/edit?roleId="+e.id}},[n("f7-badge",{attrs:{slot:"media"},slot:"media"},[t._v(t._s(e.sorting))]),t._v(" "),n("div",{attrs:{slot:"after"},slot:"after"},[e.leader?n("f7-badge",[t._v(t._s(t.$text("Leader")))]):t._e(),t._v(" "),e.catalog?n("f7-badge",[t._v(t._s(t.$text("Catalog")))]):t._e(),t._v(" "),e.system?n("f7-badge",[t._v(t._s(t.$text("System")))]):t._e()],1)],1)}),1),t._v(" "),n("eb-load-more",{ref:"loadMore",attrs:{onLoadClear:t.onLoadClear,onLoadMore:t.onLoadMore,autoInit:!1}})],1)},[],!1,null,"63e1695e",null);e.a=i.exports},function(t,e,n){"use strict";var o={meta:{global:!1},props:{role:{type:Object}},data:function(){return{}},methods:{onPerformValidate:function(){var t=this;return this.$api.post("role/save",{roleId:this.role.id,data:this.role}).then(function(){return t.$meta.eventHub.$emit("role:save",{roleId:t.role.id,roleIdParent:t.role.roleIdParent,role:t.role}),!0})},onPerformSave:function(){return this.$refs.validate.perform()},onPerformMove:function(){var t=this;this.$view.navigate("/a/baseadmin/role/select",{target:"_self",context:{params:{roleIdStart:null,multiple:!1,roleIdDisable:this.role.id,catalogOnly:!0},callback:function(e,n){if(200===e){var o=n.id;t.role.roleIdParent!==o&&t.$api.post("role/move",{roleId:t.role.id,roleIdParent:o}).then(function(e){t.$meta.eventHub.$emit("role:move",{roleId:t.role.id,roleIdFrom:t.role.roleIdParent,roleIdTo:o}),t.$meta.eventHub.$emit("role:dirty",{dirty:!0}),t.$view.toast.show({text:t.$text("Operation succeeded")})})}}}})},onPerformDelete:function(){var t=this;return this.$view.dialog.confirm().then(function(){return t.$api.post("role/delete",{roleId:t.role.id}).then(function(){t.$meta.eventHub.$emit("role:delete",{roleId:t.role.id,roleIdParent:t.role.roleIdParent}),t.$meta.eventHub.$emit("role:dirty",{dirty:!0}),t.$f7router.back()})})}}},r=n(0),i=Object(r.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-validate",{ref:"validate",attrs:{data:t.role,params:{validator:"role"},onPerform:t.onPerformValidate}},[n("f7-list",[n("eb-list-input",{attrs:{label:t.$text("Role Name"),"floating-label":"",type:"text",disabled:1===t.role.system,"clear-button":0===t.role.system,placeholder:t.$text("Role Name"),dataPath:"roleName"},model:{value:t.role.roleName,callback:function(e){t.$set(t.role,"roleName",e)},expression:"role.roleName"}}),t._v(" "),n("eb-list-input",{attrs:{label:t.$text("Sorting"),"floating-label":"",type:"text","clear-button":"",placeholder:t.$text("Sorting"),dataPath:"sorting"},model:{value:t.role.sorting,callback:function(e){t.$set(t.role,"sorting",e)},expression:"role.sorting"}}),t._v(" "),n("f7-list-item",[n("span",{staticClass:"text-color-gray"},[t._v(t._s(t.$text("Leader")))]),t._v(" "),n("eb-toggle",{attrs:{dataPath:"leader"},model:{value:t.role.leader,callback:function(e){t.$set(t.role,"leader",e)},expression:"role.leader"}})],1),t._v(" "),n("f7-list-item",[n("span",{staticClass:"text-color-gray"},[t._v(t._s(t.$text("Catalog")))]),t._v(" "),n("eb-toggle",{attrs:{value:t.role.catalog,disabled:"",dataPath:"catalog"}})],1),t._v(" "),n("f7-list-item",[n("span",{staticClass:"text-color-gray"},[t._v(t._s(t.$text("System")))]),t._v(" "),n("eb-toggle",{attrs:{value:t.role.system,disabled:"",dataPath:"system"}})],1)],1)],1)},[],!1,null,null,null);e.a=i.exports},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var r=(a=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"});return[n].concat(i).concat([r]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];null!=i&&(o[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];null!=a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){"use strict";function o(t,e){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],a=i[0],s={id:t+":"+r,css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}n.r(e),n.d(e,"default",function(){return m});var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},a=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,u=!1,d=function(){},c=null,f="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(t,e,n,r){u=n,c=r||{};var a=o(t,e);return b(a),function(e){for(var n=[],r=0;r<a.length;r++){var s=a[r];(l=i[s.id]).refs--,n.push(l)}e?b(a=o(t,e)):a=[];for(r=0;r<n.length;r++){var l;if(0===(l=n[r]).refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete i[l.id]}}}}function b(t){for(var e=0;e<t.length;e++){var n=t[e],o=i[n.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](n.parts[r]);for(;r<n.parts.length;r++)o.parts.push(p(n.parts[r]));o.parts.length>n.parts.length&&(o.parts.length=n.parts.length)}else{var a=[];for(r=0;r<n.parts.length;r++)a.push(p(n.parts[r]));i[n.id]={id:n.id,refs:1,parts:a}}}}function v(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function p(t){var e,n,o=document.querySelector("style["+f+'~="'+t.id+'"]');if(o){if(u)return d;o.parentNode.removeChild(o)}if(h){var r=l++;o=s||(s=v()),e=_.bind(null,o,r,!1),n=_.bind(null,o,r,!0)}else o=v(),e=function(t,e){var n=e.css,o=e.media,r=e.sourceMap;o&&t.setAttribute("media",o);c.ssrId&&t.setAttribute(f,e.id);r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,o),n=function(){o.parentNode.removeChild(o)};return e(t),function(o){if(o){if(o.css===t.css&&o.media===t.media&&o.sourceMap===t.sourceMap)return;e(t=o)}else n()}}var g,$=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")});function _(t,e,n,o){var r=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=$(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}},function(t,e,n){"use strict";n.r(e);var o;n(17);e.default={install:function(t,e){return o?console.error("already installed."):(o=t,e({routes:n(19).default,store:n(23).default(o),config:n(24).default,locales:n(25).default,components:n(27).default}))}}},function(t,e,n){var o=n(18);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n(15).default)("6d16069e",o,!0,{})},function(t,e,n){(t.exports=n(14)(!0)).push([t.i,"\n","",{version:3,sources:[],names:[],mappings:"",file:"module.css"}])},function(t,e,n){"use strict";function o(t){return n(20)("./".concat(t,".vue")).default}n.r(e),e.default=[{path:"role/list",component:o("role/list")},{path:"role/edit",component:o("role/edit")},{path:"role/select",component:o("role/select")},{path:"user/list",component:o("user/list")},{path:"user/view",component:o("user/view")},{path:"user/search",component:o("user/search")},{path:"user/rights",component:o("user/rights")},{path:"atomRight/list",component:o("atomRight/list")},{path:"atomRight/edit",component:o("atomRight/edit")},{path:"atomRight/add",component:o("atomRight/add")},{path:"menuRight/list",component:o("menuRight/list")},{path:"functionRight/list",component:o("functionRight/list")},{path:"functionRight/edit",component:o("functionRight/edit")},{path:"functionRight/add",component:o("functionRight/add")},{path:"auth/list",component:o("auth/list")},{path:"auth/edit",component:o("auth/edit")}]},function(t,e,n){var o={"./atomRight/add.vue":31,"./atomRight/edit.vue":29,"./atomRight/list.vue":30,"./auth/edit.vue":34,"./auth/list.vue":37,"./functionRight/add.vue":40,"./functionRight/edit.vue":41,"./functionRight/list.vue":42,"./menuRight/list.vue":43,"./role/edit.vue":28,"./role/list.vue":39,"./role/select.vue":38,"./user/list.vue":36,"./user/rights.vue":35,"./user/search.vue":33,"./user/view.vue":32};function r(t){var e=i(t);return n(e)}function i(t){var e=o[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=20},function(t,e,n){"use strict";var o=n(6);n.n(o).a},function(t,e,n){(t.exports=n(14)(!0)).push([t.i,".item .header[data-v-09f80252] {\n  position: relative;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 2px 8px -8px 16px;\n  font-size: 12px;\n  color: rgba(0, 0, 0, 0.65);\n}\n","",{version:3,sources:["/Users/wind/Documents/data/cabloy/egg-born-demo/src/module/a-baseadmin/front/src/components/atomRight/spreads.vue?vue&type=style&index=0&id=09f80252&lang=less&scoped=true&","spreads.vue"],names:[],mappings:"AAwHA;EAEI,kBAAA;EACA,sBAAA;EACA,aAAA;EACA,8BAAA;EACA,mBAAA;EACA,yBAAA;EACA,eAAA;EACA,0BAAA;ACxHJ",file:"spreads.vue?vue&type=style&index=0&id=09f80252&lang=less&scoped=true&",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.item {\n  .header {\n    position: relative;\n    box-sizing: border-box;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin: 2px 8px -8px 16px;\n    font-size: 12px;\n    color: rgba(0, 0, 0, 0.65);\n  }\n}\n\n",".item .header {\n  position: relative;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 2px 8px -8px 16px;\n  font-size: 12px;\n  color: rgba(0, 0, 0, 0.65);\n}\n"]}])},function(t,e,n){"use strict";n.r(e),e.default=function(t){return{state:{},getters:{},mutations:{},actions:{}}}},function(t,e,n){"use strict";n.r(e),e.default={}},function(t,e,n){"use strict";n.r(e),e.default={"zh-cn":n(26).default}},function(t,e,n){"use strict";n.r(e),e.default={"Add Role":"添加角色","Add Role Include":"添加聚合角色","Atom Action":"原子指令","Atom Class":"原子类型","Atom Right":"原子权限","Atom Right Management":"原子权限管理","Auth Management":"认证管理","Function Right Management":"功能权限管理","Menu Right":"菜单权限","Function Right":"功能权限","Menu Right Management":"菜单权限管理","New Atom Right":"新建原子权限","New Menu Right":"新建菜单权限","New Function Right":"新建功能权限","New Role":"新建角色","New Catalog":"新建目录","Role Management":"角色管理","Role Name":"角色名称","Select Roles":"选择角色","Search User":"搜索用户","User Management":"用户管理",Atoms:"原子",Build:"构建",Catalog:"目录",Children:"子项",Delete:"删除",Disable:"禁用",Disabled:"已禁用",Edit:"编辑",Enable:"启用",Enabled:"已启用",from:"来自",Function:"功能",Functions:"功能",Includes:"聚合",Info:"信息",Leader:"负责人",Menu:"菜单",Menus:"菜单",Module:"模块",Move:"移动",Remove:"移除",Role:"角色",Roles:"角色",Rights:"权限",Save:"保存",Scope:"范围",Sorting:"排序",Spreads:"展开",System:"系统",User:"用户",Users:"用户"}},function(t,e,n){"use strict";n.r(e);var o=n(2),r=n(13),i=n(12),a=n(11),s=n(8),l=n(3),u=n(7),d=n(9),c=n(5),f=n(10),h=n(4);e.default={roleList:o.a,roleInfo:r.a,roleChildren:i.a,roleIncludes:a.a,userInfo:s.a,userList:l.a,userRoles:u.a,atomRightRights:d.a,atomRightSpreads:c.a,functionRightRights:f.a,functionRightSpreads:h.a}},function(t,e,n){"use strict";n.r(e);var o=n(1),r=n.n(o),i=n(13),a=n(12),s=n(11),l=n(3),u={components:{info:i.a,roleChildren:a.a,roleIncludes:s.a,roleUsers:l.a},data:function(){return{roleId:parseInt(this.$f7route.query.roleId),role:null,tabIdInfo:r.a.prototype.$meta.util.nextId("tab"),tabIdUsers:r.a.prototype.$meta.util.nextId("tab"),tabIdChildren:r.a.prototype.$meta.util.nextId("tab"),tabIdIncludes:r.a.prototype.$meta.util.nextId("tab"),tabName:"info"}},created:function(){var t=this;this.$api.post("role/item",{roleId:this.roleId}).then(function(e){t.role=e})},methods:{getPageTitle:function(){var t=this.$text("Role");return this.role&&(t="".concat(t,": ").concat(this.role.roleName)),t},onPerformInfoSave:function(){return this.$refs.info.onPerformSave()},onPerformInfoMove:function(){return this.$refs.info.onPerformMove()},onPerformInfoDelete:function(){return this.$refs.info.onPerformDelete()},onPerformChildrenAdd:function(){return this.$refs.children.onPerformAdd()},onPerformChildrenAddCatalog:function(){return this.$refs.children.onPerformAddCatalog()},onPerformIncludesAdd:function(){return this.$refs.includes.onPerformAdd()}}},d=n(0),c=Object(d.a)(u,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",{attrs:{"page-content":!1,tabs:"","with-subnavbar":""}},[n("eb-navbar",{attrs:{title:t.getPageTitle(),"eb-back-link":"Back"}},[n("f7-subnavbar",[t.role?n("f7-toolbar",{attrs:{top:"",tabbar:"",scrollable:""}},[n("f7-link",{attrs:{"tab-link":"#"+t.tabIdInfo,"tab-link-active":""}},[t._v(t._s(t.$text("Info")))]),t._v(" "),0===t.role.catalog?n("f7-link",{attrs:{"tab-link":"#"+t.tabIdUsers}},[t._v(t._s(t.$text("Users")))]):t._e(),t._v(" "),1===t.role.catalog?n("f7-link",{attrs:{"tab-link":"#"+t.tabIdChildren}},[t._v(t._s(t.$text("Children")))]):t._e(),t._v(" "),n("f7-link",{attrs:{"tab-link":"#"+t.tabIdIncludes}},[t._v(t._s(t.$text("Includes")))])],1):t._e()],1)],1),t._v(" "),t.role?n("f7-tabs",[n("f7-page-content",{attrs:{id:t.tabIdInfo,tab:"","tab-active":""},on:{"tab:show":function(e){t.tabName="info"}}},[n("info",{ref:"info",attrs:{role:t.role}})],1),t._v(" "),0===t.role.catalog?n("eb-tab-page-content",{attrs:{id:t.tabIdUsers},on:{"tab:show":function(e){t.tabName="users"}}},[n("role-users",{attrs:{slot:"list",roleId:t.role.id},slot:"list"})],1):t._e(),t._v(" "),1===t.role.catalog?n("eb-tab-page-content",{attrs:{id:t.tabIdChildren},on:{"tab:show":function(e){t.tabName="children"}}},[n("role-children",{ref:"children",attrs:{slot:"list",role:t.role},slot:"list"})],1):t._e(),t._v(" "),n("eb-tab-page-content",{attrs:{id:t.tabIdIncludes},on:{"tab:show":function(e){t.tabName="includes"}}},[n("role-includes",{ref:"includes",attrs:{slot:"list",role:t.role},slot:"list"})],1)],1):t._e(),t._v(" "),"info"===t.tabName?n("f7-toolbar",{attrs:{"bottom-md":""}},[n("eb-link",{attrs:{onPerform:t.onPerformInfoSave}},[t._v(t._s(t.$text("Save")))]),t._v(" "),t.role&&!t.role.system?n("eb-link",{attrs:{onPerform:t.onPerformInfoMove}},[t._v(t._s(t.$text("Move")))]):t._e(),t._v(" "),t.role&&!t.role.system?n("eb-link",{attrs:{onPerform:t.onPerformInfoDelete}},[t._v(t._s(t.$text("Delete")))]):t._e()],1):t._e(),t._v(" "),"users"===t.tabName?n("f7-toolbar",{attrs:{"bottom-md":""}}):t._e(),t._v(" "),"children"===t.tabName?n("f7-toolbar",{attrs:{"bottom-md":""}},[n("eb-link",{attrs:{onPerform:t.onPerformChildrenAdd}},[t._v(t._s(t.$text("New Role")))]),t._v(" "),n("eb-link",{attrs:{onPerform:t.onPerformChildrenAddCatalog}},[t._v(t._s(t.$text("New Catalog")))])],1):t._e(),t._v(" "),"includes"===t.tabName?n("f7-toolbar",{attrs:{"bottom-md":""}},[n("eb-link",{attrs:{onPerform:t.onPerformIncludesAdd}},[t._v(t._s(t.$text("Add Role Include")))])],1):t._e()],1)},[],!1,null,null,null);e.default=c.exports},function(t,e,n){"use strict";n.r(e);var o=n(1),r=n.n(o),i=n(9),a=n(5),s={components:{rights:i.a,spreads:a.a},data:function(){return{roleId:parseInt(this.$f7route.query.roleId),role:null,tabIdRights:r.a.prototype.$meta.util.nextId("tab"),tabIdSpreads:r.a.prototype.$meta.util.nextId("tab"),tabName:"rights"}},created:function(){var t=this;this.$api.post("role/item",{roleId:this.roleId}).then(function(e){t.role=e})},methods:{getPageTitle:function(){var t=this.$text("Atom Right");return this.role&&(t="".concat(t,": ").concat(this.role.roleName)),t},onPerformRightsAdd:function(){return this.$refs.rights.onPerformAdd()}}},l=n(0),u=Object(l.a)(s,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",{attrs:{"page-content":!1,tabs:"","with-subnavbar":""}},[n("eb-navbar",{attrs:{title:t.getPageTitle(),"eb-back-link":"Back"}},[n("f7-subnavbar",[t.role?n("f7-toolbar",{attrs:{top:"",tabbar:""}},[n("f7-link",{attrs:{"tab-link":"#"+t.tabIdRights,"tab-link-active":""}},[t._v(t._s(t.$text("Rights")))]),t._v(" "),n("f7-link",{attrs:{"tab-link":"#"+t.tabIdSpreads}},[t._v(t._s(t.$text("Spreads")))])],1):t._e()],1)],1),t._v(" "),t.role?n("f7-tabs",[n("eb-tab-page-content",{attrs:{id:t.tabIdRights,"tab-active":""},on:{"tab:show":function(e){t.tabName="rights"}}},[n("rights",{ref:"rights",attrs:{slot:"list",role:t.role},slot:"list"})],1),t._v(" "),n("eb-tab-page-content",{attrs:{id:t.tabIdSpreads},on:{"tab:show":function(e){t.tabName="spreads"}}},[n("spreads",{ref:"spreads",attrs:{slot:"list",role:t.role},slot:"list"})],1)],1):t._e(),t._v(" "),"rights"===t.tabName?n("f7-toolbar",{attrs:{"bottom-md":""}},[n("eb-link",{attrs:{onPerform:t.onPerformRightsAdd}},[t._v(t._s(t.$text("New Atom Right")))])],1):t._e()],1)},[],!1,null,null,null);e.default=u.exports},function(t,e,n){"use strict";n.r(e);var o={components:{roleList:n(2).a},data:function(){return{roleIdStart:parseInt(this.$f7route.query.roleIdStart)}},computed:{tree:function(){return this.$refs.roleList.tree}},methods:{onNodeClick:function(t){this.$view.navigate("/a/baseadmin/atomRight/edit?roleId=".concat(t.id))}}},r=n(0),i=Object(r.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("eb-page",[e("eb-navbar",{attrs:{title:this.$text("Atom Right Management"),"eb-back-link":"Back"}}),this._v(" "),e("role-list",{ref:"roleList",attrs:{roleIdStart:this.roleIdStart},on:{"node:click":this.onNodeClick}})],1)},[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var o=n(1),r={mixins:[n.n(o).a.prototype.$meta.module.get("a-base").options.components.ebAtomActions],data:function(){return{roleId:parseInt(this.$f7route.query.roleId),atomClass:null,actionCode:"",scopeSelf:!0,scope:null}},computed:{actions:function(){var t=this.getActionsOfAtomClass(this.atomClass);if(!t)return null;var e=[{title:null,value:""}];for(var n in t)t[n].authorize&&e.push({title:n,value:t[n].code});return e},scopeTitle:function(){return this.scope?this.scope.map(function(t){return t.roleName}).join(","):null},scopeSelfEnable:function(){return this.actionCode&&["3","4"].indexOf(this.actionCode)>-1},scopeEnable:function(){return!!this.actionCode&&("1"!==this.actionCode&&!(["3","4"].indexOf(this.actionCode)>-1&&this.scopeSelf))}},watch:{atomClass:function(t){this.actionCode=""}},methods:{onFormSubmit:function(){this.$refs.buttonSubmit.onClick()},onSelectAtomClass:function(){var t=this;this.$view.navigate("/a/base/atom/selectAtomClass",{target:"_self",context:{params:{atomClass:this.atomClass,optional:!0},callback:function(e,n){200===e&&(t.atomClass=n)}}})},onSelectScope:function(){var t=this;this.$view.navigate("/a/baseadmin/role/select",{target:"_self",context:{params:{roleIdStart:null,multiple:!0},callback:function(e,n){200===e&&(t.scope=n)}}})},onSave:function(){var t=this;if(this.atomClass&&this.actionCode)return this.$api.post("atomRight/add",{roleId:this.roleId,atomClass:this.atomClass,actionCode:parseInt(this.actionCode),scopeSelf:this.scopeSelf,scope:this.scope?this.scope.map(function(t){return t.id}):[]}).then(function(){t.$meta.eventHub.$emit("atomRight:add",{roleId:t.roleId}),t.$f7router.back()})}}},i=n(0),a=Object(i.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",[n("eb-navbar",{attrs:{title:t.$text("New Atom Right"),"eb-back-link":"Back"}},[n("f7-nav-right",[n("eb-link",{ref:"buttonSubmit",attrs:{iconMaterial:"save",onPerform:t.onSave}})],1)],1),t._v(" "),n("eb-list",{attrs:{form:"","no-hairlines-md":""},on:{submit:function(e){return e.preventDefault(),t.onFormSubmit(e)}}},[n("f7-list-item",{attrs:{title:t.$text("Atom Class"),link:"#"},on:{click:t.onSelectAtomClass}},[n("div",{attrs:{slot:"after"},slot:"after"},[t._v(t._s(t.atomClass&&t.atomClass.title))])]),t._v(" "),n("f7-list-item",{attrs:{smartSelect:"",title:t.$text("Atom Action"),smartSelectParams:{openIn:"page",closeOnSelect:!0}}},[n("eb-select",{attrs:{name:"actionCode",options:t.actions},model:{value:t.actionCode,callback:function(e){t.actionCode=e},expression:"actionCode"}})],1),t._v(" "),t.scopeSelfEnable?n("f7-list-item",{attrs:{title:t.$text("Scope")}},[n("span",{staticClass:"text-color-gray"},[t._v("Self")]),t._v(" "),n("eb-toggle",{model:{value:t.scopeSelf,callback:function(e){t.scopeSelf=e},expression:"scopeSelf"}})],1):t._e(),t._v(" "),t.scopeEnable?n("f7-list-item",{attrs:{title:t.$text("Scope"),link:"#"},on:{click:t.onSelectScope}},[n("div",{attrs:{slot:"after"},slot:"after"},[t._v(t._s(t.scopeTitle))])]):t._e()],1)],1)},[],!1,null,"052fa702",null);e.default=a.exports},function(t,e,n){"use strict";n.r(e);var o=n(1),r=n.n(o),i=n(8),a=n(7),s={components:{info:i.a,userRoles:a.a},data:function(){return{userId:parseInt(this.$f7route.query.userId),user:null,tabIdInfo:r.a.prototype.$meta.util.nextId("tab"),tabIdRoles:r.a.prototype.$meta.util.nextId("tab"),tabName:"info"}},created:function(){var t=this;this.$api.post("user/item",{userId:this.userId}).then(function(e){t.user=e})},methods:{getPageTitle:function(){var t=this.$text("User");return this.user&&(t="".concat(t,": ").concat(this.user.userName)),t},onPerformRolesAdd:function(){return this.$refs.roles.onPerformAdd()}}},l=n(0),u=Object(l.a)(s,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",{attrs:{"page-content":!1,tabs:"","with-subnavbar":""}},[n("eb-navbar",{attrs:{title:t.getPageTitle(),"eb-back-link":"Back"}},[n("f7-nav-right",[n("eb-link",{attrs:{"eb-href":"user/rights?userId="+t.userId}},[t._v(t._s(t.$text("Rights")))])],1),t._v(" "),n("f7-subnavbar",[t.user?n("f7-toolbar",{attrs:{top:"",tabbar:""}},[n("f7-link",{attrs:{"tab-link":"#"+t.tabIdInfo,"tab-link-active":""}},[t._v(t._s(t.$text("Info")))]),t._v(" "),n("f7-link",{attrs:{"tab-link":"#"+t.tabIdRoles}},[t._v(t._s(t.$text("Roles")))])],1):t._e()],1)],1),t._v(" "),t.user?n("f7-tabs",[n("f7-page-content",{attrs:{id:t.tabIdInfo,tab:"","tab-active":""},on:{"tab:show":function(e){t.tabName="info"}}},[n("info",{ref:"info",attrs:{user:t.user}})],1),t._v(" "),n("eb-tab-page-content",{attrs:{id:t.tabIdRoles},on:{"tab:show":function(e){t.tabName="roles"}}},[n("user-roles",{ref:"roles",attrs:{slot:"list",user:t.user},slot:"list"})],1)],1):t._e(),t._v(" "),"roles"===t.tabName?n("f7-toolbar",{attrs:{"bottom-md":""}},[n("eb-link",{attrs:{onPerform:t.onPerformRolesAdd}},[t._v(t._s(t.$text("Add Role")))])],1):t._e()],1)},[],!1,null,null,null);e.default=u.exports},function(t,e,n){"use strict";n.r(e);var o={components:{users:n(3).a}},r=n(0),i=Object(r.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("eb-search-page",{attrs:{title:this.$text("Search User")}},[e("users",{attrs:{slot:"list"},slot:"list"})],1)},[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var o={meta:{global:!1},data:function(){return{id:parseInt(this.$f7route.query.id),item:null,content:"{}"}},created:function(){var t=this;this.$api.post("auth/item",{id:this.id}).then(function(e){t.item=e,e.config?t.content=JSON.stringify(JSON.parse(e.config),null,2):t.content="{}"})},methods:{onSize:function(t){this.$$(this.$refs.textarea).css({height:"".concat(t.height-20,"px"),width:"".concat(t.width-20,"px")})},onInput:function(t){this.content=t.target.value},onPerformSave:function(){var t=this;return this.$api.post("auth/save",{id:this.id,data:JSON.parse(this.content)}).then(function(){t.$f7router.back()})}}},r=n(0),i=Object(r.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("eb-page",[e("eb-navbar",{attrs:{title:this.$text("Edit"),"eb-back-link":"Back"}},[e("f7-nav-right",[e("eb-link",{attrs:{iconMaterial:"save",onPerform:this.onPerformSave}})],1)],1),this._v(" "),e("eb-box",{on:{size:this.onSize}},[e("textarea",{ref:"textarea",staticClass:"json-textarea",attrs:{type:"textarea"},domProps:{value:this.content},on:{input:this.onInput}})])],1)},[],!1,null,"47b62f36",null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var o=n(1),r=n.n(o),i=n(5),a=n(4),s={components:{atomsSpreads:i.a,functionsSpreads:a.a},data:function(){return{userId:parseInt(this.$f7route.query.userId),user:null,tabIdAtoms:r.a.prototype.$meta.util.nextId("tab"),tabIdMenus:r.a.prototype.$meta.util.nextId("tab"),tabIdFunctions:r.a.prototype.$meta.util.nextId("tab"),tabName:"atoms"}},created:function(){var t=this;this.$api.post("user/item",{userId:this.userId}).then(function(e){t.user=e})},methods:{getPageTitle:function(){var t=this.$text("User");return this.user&&(t="".concat(t,": ").concat(this.user.userName)),t}}},l=n(0),u=Object(l.a)(s,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",{attrs:{"page-content":!1,tabs:"","with-subnavbar":""}},[n("eb-navbar",{attrs:{title:t.getPageTitle(),"eb-back-link":"Back"}},[n("f7-subnavbar",[t.user?n("f7-toolbar",{attrs:{top:"",tabbar:""}},[n("f7-link",{attrs:{"tab-link":"#"+t.tabIdAtoms,"tab-link-active":""}},[t._v(t._s(t.$text("Atoms")))]),t._v(" "),n("f7-link",{attrs:{"tab-link":"#"+t.tabIdMenus}},[t._v(t._s(t.$text("Menus")))]),t._v(" "),n("f7-link",{attrs:{"tab-link":"#"+t.tabIdFunctions}},[t._v(t._s(t.$text("Functions")))])],1):t._e()],1)],1),t._v(" "),t.user?n("f7-tabs",[n("eb-tab-page-content",{attrs:{id:t.tabIdAtoms,"tab-active":""},on:{"tab:show":function(e){t.tabName="atoms"}}},[n("atoms-spreads",{ref:"atoms",attrs:{slot:"list",user:t.user},slot:"list"})],1),t._v(" "),n("eb-tab-page-content",{attrs:{id:t.tabIdMenus},on:{"tab:show":function(e){t.tabName="menus"}}},[n("functions-spreads",{ref:"menus",attrs:{slot:"list",user:t.user,menu:1},slot:"list"})],1),t._v(" "),n("eb-tab-page-content",{attrs:{id:t.tabIdFunctions},on:{"tab:show":function(e){t.tabName="functions"}}},[n("functions-spreads",{ref:"functions",attrs:{slot:"list",user:t.user,menu:0},slot:"list"})],1)],1):t._e()],1)},[],!1,null,null,null);e.default=u.exports},function(t,e,n){"use strict";n.r(e);var o={components:{users:n(3).a},data:function(){return{}},mounted:function(){this.$refs.users.reload(!0)},methods:{onRefresh:function(t,e){e(),this.$refs.users.reload()},onInfinite:function(){this.$refs.users.loadMore()}}},r=n(0),i=Object(r.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("eb-page",{attrs:{ptr:"",ptrMousewheel:"",infinite:"",infinitePreloader:!1},on:{"ptr:refresh":this.onRefresh,infinite:this.onInfinite}},[e("eb-navbar",{attrs:{title:this.$text("User Management"),"eb-back-link":"Back"}},[e("f7-nav-right",[e("eb-link",{attrs:{iconMaterial:"search","eb-target":"_self","eb-href":"user/search"}})],1)],1),this._v(" "),e("users",{ref:"users"})],1)},[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var o=n(1),r={mixins:[n.n(o).a.prototype.$meta.module.get("a-base").options.components.ebModules],data:function(){return{items:null}},computed:{ready:function(){return this.modulesAll&&this.items}},created:function(){var t=this;return this.$api.post("auth/list").then(function(e){t.items=e})},methods:{onPerformDisable:function(t,e){return this.onDisable(t,e,1)},onPerformEnable:function(t,e){return this.onDisable(t,e,0)},onDisable:function(t,e,n){var o=this;return this.$api.post("auth/disable",{id:e.id,disabled:n}).then(function(){var r=o.items.findIndex(function(t){return t.id===e.id});return o.items[r].disabled=n,o.$meta.util.swipeoutClose(t.target),!0})}}},i=n(0),a=Object(i.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",[n("eb-navbar",{attrs:{title:t.$text("Auth Management"),"eb-back-link":"Back"}}),t._v(" "),t.ready?n("f7-list",t._l(t.items,function(e){return n("eb-list-item",{key:e.id,attrs:{link:"#","eb-href":"auth/edit?id="+e.id,title:e.meta.titleLocale,swipeout:""}},[n("div",{attrs:{slot:"after"},slot:"after"},[1===e.disabled?n("f7-badge",[t._v(t._s(t.$text("Disabled")))]):n("f7-badge",[t._v(t._s(t.$text("Enabled")))])],1),t._v(" "),n("eb-context-menu",[n("div",{attrs:{slot:"right"},slot:"right"},[0===e.disabled?n("div",{attrs:{color:"orange",context:e,onPerform:t.onPerformDisable}},[t._v(t._s(t.$text("Disable")))]):n("div",{attrs:{color:"orange",context:e,onPerform:t.onPerformEnable}},[t._v(t._s(t.$text("Enable")))])])])],1)}),1):t._e()],1)},[],!1,null,null,null);e.default=a.exports},function(t,e,n){"use strict";n.r(e);var o=n(1),r={mixins:[n.n(o).a.prototype.$meta.module.get("a-components").options.components.ebPageContext],data:function(){var t=this;return{treeOptions:{fetchData:function(e){return t.fetchChildren(e.id)}}}},computed:{roleIdStart:function(){return this.contextParams.roleIdStart},multiple:function(){return this.contextParams.multiple},catalogOnly:function(){return this.contextParams.catalogOnly},roleIdDisable:function(){return this.contextParams.roleIdDisable}},methods:{fetchChildren:function(t){var e=this;return"root"===t&&(t=this.roleIdStart),this.$api.post("role/children",{roleId:t,page:{size:0}}).then(function(t){var n=t.list.map(function(t){return{id:t.id,text:t.roleName,data:t,showChildren:1===t.catalog,isBatch:1===t.catalog}});return e.catalogOnly&&(n=n.filter(function(t){return 1===t.data.catalog&&(!e.roleIdDisable||e.roleIdDisable!==t.id)})),n}).catch(function(t){e.$view.toast.show({text:t.message})})},onDone:function(){var t=this.getSelected();t&&(this.contextCallback(200,t),this.$f7router.back())},onNodeClick:function(t){t.states._selected?this.$set(t.states,"_selected",!1):this.multiple?this.$set(t.states,"_selected",!0):(this.unSelectAll(),this.$set(t.states,"_selected",!0))},unSelectAll:function(){var t=this.$refs.tree.find({state:{_selected:!0}},!0);if(t){var e=!0,n=!1,o=void 0;try{for(var r,i=t[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;this.$set(a.states,"_selected",!1)}}catch(t){n=!0,o=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw o}}}},getSelected:function(){var t=this.$refs.tree.find({state:{_selected:!0}},this.multiple);return t?this.multiple?t.map(function(t){return t.data}):t[0].data:null}}},i=n(0),a=Object(i.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",[n("eb-navbar",{attrs:{title:t.$text("Select Roles"),"eb-back-link":"Back"}},[n("f7-nav-right",[n("eb-link",{attrs:{iconMaterial:"done"},on:{click:function(e){return e.preventDefault(),t.onDone(e)}}})],1)],1),t._v(" "),n("eb-tree",{ref:"tree",attrs:{options:t.treeOptions},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.node;return n("span",{on:{click:function(e){return e.stopPropagation(),t.onNodeClick(o)}}},[o.states._selected?n("f7-icon",{attrs:{material:"check_box"}}):t._e(),t._v(t._s(o.text))],1)}}])})],1)},[],!1,null,null,null);e.default=a.exports},function(t,e,n){"use strict";n.r(e);var o={components:{roleList:n(2).a},data:function(){return{roleIdStart:parseInt(this.$f7route.query.roleIdStart),roleDirty:!1}},computed:{tree:function(){return this.$refs.roleList.tree}},mounted:function(){this.$meta.eventHub.$on("role:save",this.onRoleSave),this.$meta.eventHub.$on("role:add",this.onRoleAdd),this.$meta.eventHub.$on("role:move",this.onRoleMove),this.$meta.eventHub.$on("role:delete",this.onRoleDelete),this.$meta.eventHub.$on("role:dirty",this.onRoleDirty)},beforeDestroy:function(){this.$meta.eventHub.$off("role:save",this.onRoleSave),this.$meta.eventHub.$off("role:add",this.onRoleAdd),this.$meta.eventHub.$off("role:move",this.onRoleMove),this.$meta.eventHub.$off("role:delete",this.onRoleDelete),this.$meta.eventHub.$off("role:dirty",this.onRoleDirty)},created:function(){this.checkRoleDirty()},methods:{onNodeClick:function(t){this.$view.navigate("/a/baseadmin/role/edit?roleId=".concat(t.id))},reloadChildren:function(t){t&&(t.isBatch=!0,t.collapse().empty().expand())},onRoleSave:function(t){var e=this.tree.find(function(e){return e.id===t.roleIdParent});this.reloadChildren(e&&e[0])},onRoleAdd:function(t){var e=this.tree.find(function(e){return e.id===t.roleIdParent});this.reloadChildren(e&&e[0])},onRoleMove:function(t){for(var e=this,n=function(){var n=r[o],i=e.tree.find(function(e){return e.id===t[n]});e.reloadChildren(i&&i[0])},o=0,r=["roleIdFrom","roleIdTo"];o<r.length;o++)n()},onRoleDelete:function(t){var e=this.tree.find(function(e){return e.id===t.roleId});e&&e.remove()},onRoleDirty:function(t){this.roleDirty=t.dirty},onPerformBuild:function(){var t=this;return this.$api.post("role/build").then(function(e){var n=e.progressId;t.$view.dialog.progressbar({progressId:n,title:t.$text("Build")}).then(function(){t.roleDirty=!1}).catch(function(){})})},checkRoleDirty:function(){var t=this;this.$api.post("role/dirty").then(function(e){t.roleDirty=e})}}},r=n(0),i=Object(r.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",[n("eb-navbar",{attrs:{title:t.$text("Role Management"),"eb-back-link":"Back"}}),t._v(" "),n("role-list",{ref:"roleList",attrs:{roleIdStart:t.roleIdStart},on:{"node:click":t.onNodeClick}}),t._v(" "),t.roleDirty?n("f7-fab",{attrs:{color:"pink"}},[n("f7-icon",{attrs:{material:"add"}}),t._v(" "),n("f7-icon",{attrs:{material:"close"}}),t._v(" "),n("f7-fab-buttons",[n("eb-fab-button",{attrs:{color:"orange",onPerform:t.onPerformBuild}},[t._v(t._s(t.$text("Build")))])],1)],1):t._e()],1)},[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var o=n(1),r=n.n(o),i={mixins:[r.a.prototype.$meta.module.get("a-base").options.components.ebModules,r.a.prototype.$meta.module.get("a-base").options.components.ebFunctions],data:function(){return{roleId:parseInt(this.$f7route.query.roleId),menu:parseInt(this.$f7route.query.menu),module:"",func:null}},computed:{modules:function(){if(!this.modulesAll)return[];var t=this.functionsAll;if(!t)return[];var e=[{title:null,value:""}];for(var n in t){var o=t[n];if(Object.keys(o).length>0){var r=this.getModule(n);e.push({title:r.titleLocale,value:n})}}return e},apiPath:function(){return 1===this.menu?"menuRight":"functionRight"}},watch:{module:function(t){this.func=null}},methods:{onFormSubmit:function(){this.$refs.buttonSubmit.onClick()},onSelectFunction:function(){var t=this;this.$view.navigate("/a/base/menu/selectFunction",{target:"_self",context:{params:{module:this.module,name:this.func?this.func.name:null,menu:this.menu,optional:!0},callback:function(e,n){200===e&&(t.func=n)}}})},onSave:function(){var t=this;if(this.module&&this.func)return this.$api.post("".concat(this.apiPath,"/add"),{roleId:this.roleId,module:this.module,name:this.func.name}).then(function(){t.$meta.eventHub.$emit("functionRight:add",{roleId:t.roleId}),t.$f7router.back()})}}},a=n(0),s=Object(a.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",[n("eb-navbar",{attrs:{title:t.$text(1===t.menu?"New Menu Right":"New Function Right"),"eb-back-link":"Back"}},[n("f7-nav-right",[n("eb-link",{ref:"buttonSubmit",attrs:{iconMaterial:"save",onPerform:t.onSave}})],1)],1),t._v(" "),n("eb-list",{attrs:{form:"","no-hairlines-md":""},on:{submit:function(e){return e.preventDefault(),t.onFormSubmit(e)}}},[n("f7-list-item",{attrs:{smartSelect:"",title:t.$text("Module"),smartSelectParams:{openIn:"page",closeOnSelect:!0}}},[n("eb-select",{attrs:{name:"module",options:t.modules},model:{value:t.module,callback:function(e){t.module=e},expression:"module"}})],1),t._v(" "),t.module?n("f7-list-item",{attrs:{title:t.$text(1===t.menu?"Menu":"Function"),link:"#"},on:{click:t.onSelectFunction}},[n("div",{attrs:{slot:"after"},slot:"after"},[t._v(t._s(t.func&&t.func.title))])]):t._e()],1)],1)},[],!1,null,"46696b9b",null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var o=n(1),r=n.n(o),i=n(10),a=n(4),s={components:{rights:i.a,spreads:a.a},data:function(){return{roleId:parseInt(this.$f7route.query.roleId),menu:parseInt(this.$f7route.query.menu),role:null,tabIdRights:r.a.prototype.$meta.util.nextId("tab"),tabIdSpreads:r.a.prototype.$meta.util.nextId("tab"),tabName:"rights"}},created:function(){var t=this;this.$api.post("role/item",{roleId:this.roleId}).then(function(e){t.role=e})},methods:{getPageTitle:function(){var t=this.$text(1===this.menu?"Menu Right":"Function Right");return this.role&&(t="".concat(t,": ").concat(this.role.roleName)),t},onPerformRightsAdd:function(){return this.$refs.rights.onPerformAdd()}}},l=n(0),u=Object(l.a)(s,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("eb-page",{attrs:{"page-content":!1,tabs:"","with-subnavbar":""}},[n("eb-navbar",{attrs:{title:t.getPageTitle(),"eb-back-link":"Back"}},[n("f7-subnavbar",[t.role?n("f7-toolbar",{attrs:{top:"",tabbar:""}},[n("f7-link",{attrs:{"tab-link":"#"+t.tabIdRights,"tab-link-active":""}},[t._v(t._s(t.$text("Rights")))]),t._v(" "),n("f7-link",{attrs:{"tab-link":"#"+t.tabIdSpreads}},[t._v(t._s(t.$text("Spreads")))])],1):t._e()],1)],1),t._v(" "),t.role?n("f7-tabs",[n("eb-tab-page-content",{attrs:{id:t.tabIdRights,"tab-active":""},on:{"tab:show":function(e){t.tabName="rights"}}},[n("rights",{ref:"rights",attrs:{slot:"list",role:t.role,menu:t.menu},slot:"list"})],1),t._v(" "),n("eb-tab-page-content",{attrs:{id:t.tabIdSpreads},on:{"tab:show":function(e){t.tabName="spreads"}}},[n("spreads",{ref:"spreads",attrs:{slot:"list",role:t.role,menu:t.menu},slot:"list"})],1)],1):t._e(),t._v(" "),"rights"===t.tabName?n("f7-toolbar",{attrs:{"bottom-md":""}},[n("eb-link",{attrs:{onPerform:t.onPerformRightsAdd}},[t._v(t._s(t.$text(1===t.menu?"New Menu Right":"New Function Right")))])],1):t._e()],1)},[],!1,null,null,null);e.default=u.exports},function(t,e,n){"use strict";n.r(e);var o={components:{roleList:n(2).a},data:function(){return{roleIdStart:parseInt(this.$f7route.query.roleIdStart)}},computed:{tree:function(){return this.$refs.roleList.tree}},methods:{onNodeClick:function(t){this.$view.navigate("/a/baseadmin/functionRight/edit?roleId=".concat(t.id,"&menu=0"))}}},r=n(0),i=Object(r.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("eb-page",[e("eb-navbar",{attrs:{title:this.$text("Function Right Management"),"eb-back-link":"Back"}}),this._v(" "),e("role-list",{ref:"roleList",attrs:{roleIdStart:this.roleIdStart},on:{"node:click":this.onNodeClick}})],1)},[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var o={components:{roleList:n(2).a},data:function(){return{roleIdStart:parseInt(this.$f7route.query.roleIdStart)}},computed:{tree:function(){return this.$refs.roleList.tree}},methods:{onNodeClick:function(t){this.$view.navigate("/a/baseadmin/functionRight/edit?roleId=".concat(t.id,"&menu=1"))}}},r=n(0),i=Object(r.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("eb-page",[e("eb-navbar",{attrs:{title:this.$text("Menu Right Management"),"eb-back-link":"Back"}}),this._v(" "),e("role-list",{ref:"roleList",attrs:{roleIdStart:this.roleIdStart},on:{"node:click":this.onNodeClick}})],1)},[],!1,null,null,null);e.default=i.exports}]);